package com.example.inspiretool

import android.content.Intent
import android.widget.LinearLayout
import android.os.Bundle
import android.widget.ImageView
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity
import com.google.android.material.card.MaterialCardView


class MainActivity9 : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main9)
        findViewById<ImageView>(R.id.backButton).setOnClickListener {
            finish() // goes back to previous Activity
        }


        setupClickListeners()
    }

    private fun setupClickListeners() {
        // Set click listeners for the card views
        findViewById<MaterialCardView>(R.id.cardScanDocument)?.setOnClickListener {
            startCameraActivity("Document")
        }

        findViewById<MaterialCardView>(R.id.cardScanReceipt)?.setOnClickListener {
            startCameraActivity("Receipt")
        }

        findViewById<MaterialCardView>(R.id.cardScanBusinessCard)?.setOnClickListener {
            startCameraActivity("Business Card")
        }

        findViewById<MaterialCardView>(R.id.cardScanHandwritten)?.setOnClickListener {
            startCameraActivity("Handwritten Note")
        }

        // Quick action click listeners
        findViewById<LinearLayout>(R.id.layoutViewHistory)?.setOnClickListener {
            // Handle history click
            Toast.makeText(this, "History clicked", Toast.LENGTH_SHORT).show()
        }

        findViewById<LinearLayout>(R.id.layoutSettings)?.setOnClickListener {
            // Handle settings click
            Toast.makeText(this, "Settings clicked", Toast.LENGTH_SHORT).show()
        }

        findViewById<LinearLayout>(R.id.layoutShare)?.setOnClickListener {
            // Handle share click
            Toast.makeText(this, "Share clicked", Toast.LENGTH_SHORT).show()
        }
    }

    private fun startCameraActivity(scanType: String) {
        try {
            val intent = Intent(this, CameraActivity::class.java).apply {
                putExtra("SCAN_TYPE", scanType)
                // Add any additional flags or extras if needed
            }
            startActivity(intent)
            // Optional: Add transition animation
            overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out)
        } catch (e: Exception) {
            Toast.makeText(
                this,
                "Failed to start camera: ${e.localizedMessage}",
                Toast.LENGTH_SHORT
            ).show()
            e.printStackTrace()
        }
    }
}