package com.example.inspiretool

import android.content.Intent
import android.os.Bundle
import android.os.Handler
import android.os.Looper
import android.view.View
import android.view.WindowManager
import android.widget.ProgressBar
import androidx.appcompat.app.AppCompatActivity

class MainActivity : AppCompatActivity() {

    private lateinit var progressBar: ProgressBar

    companion object {
        private const val AUTO_START_DELAY: Long = 6000 // 6 seconds before auto-start
        private const val LOADING_TIME: Long = 3000 // 3 seconds loading time
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        // Set the window to fullscreen
        window.setFlags(
            WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN
        )

        // Set the layout for the splash screen
        setContentView(R.layout.activity_main)

        // Initialize views
        progressBar = findViewById(R.id.progressBar)

        // Auto-start loading after 6 seconds
        Handler(Looper.getMainLooper()).postDelayed({
            startLoading()
        }, AUTO_START_DELAY)
    }

    private fun startLoading() {
        // Show progress bar
        progressBar.visibility = View.VISIBLE

        // Start loading and navigate to next activity after delay
        Handler(Looper.getMainLooper()).postDelayed({
            val intent = Intent(this@MainActivity, MainActivity2::class.java)
            startActivity(intent)
            finish() // Close the splash screen activity
        }, LOADING_TIME)
    }
}